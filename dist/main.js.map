{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js","webpack:///./src/scripts/map.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","ctx","gameMap","currentSecond","frameCount","heldKeys","37","38","39","40","directions","floorTypes","tileTypes","0","color","floor","sprite","x","y","w","h","1","2","4","5","6","7","10","11","12","13","14","15","16","17","18","19","20","21","22","25","26","27","28","29","30","31","32","33","34","35","36","41","42","collisions","objectTypes","offset","collision","zIndex","3","8","9","gametile","artLoaded","miumiu","MiuMiu","this","tileFrom","tileTo","timeMoved","delayMove","dimensions","position","direction","sprites","location","processMovement","mapTileData","map","toIndex","eventEnter","difference","Math","round","placesCanGo","type","canGoUp","canGoDown","canGoLeft","canGoRight","goLeft","goRight","goUp","goDown","camera","screen","startingPoint","endingPoint","update","offsetX","offsetY","tile","ceil","mapWidth","mapHeight","TileMap","buildingsLocation","data","Tile","tileX","tileY","tileType","building","buildingType","levels","GameObjects","nt","getFrame","timeLast","time","animation","end","drawGame","currentFrameTime","Date","now","sec","miumiuBuilding1","miumiuBuilding2","fillStyle","fillRect","z","drawImage","objectType","spritetimeLast","requestAnimationFrame","buildMapFromData","tileId","length","push","addBuildings","buildings","tileIdx","placeAt","nx","ny","window","onload","document","getElementById","getContext","addEventListener","e","keyCode","width","height","Image","onerror","alert","src","console","log"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import \"./styles/index.scss\";\nimport \"./scripts/map\";\n\n\n\n","// i want a camera following the char around the map\n\n\nlet ctx = null;\n\n// create a map with 10*10 tile\nlet gameMap = [\n\t0, 0, 0, 0, 0, 6, 5, 5, 7, 0, 26, 25, 25, 25, 25, 25, 27, 0, 0, 0,\n\t0, 1, 1, 1, 1, 21, 20, 20, 22, 1, 29, 28, 28, 28, 28, 28, 30, 2, 2, 0,\n\t0, 1, 1, 1, 1, 21, 20, 20, 22, 1, 29, 28, 28, 28, 28, 28, 30, 2, 2, 0,\n\t0, 1, 1, 1, 1, 21, 20, 20, 22, 1, 29, 28, 28, 28, 28, 28, 30, 2, 2, 0,\n\t0, 1, 1, 1, 1, 16, 20, 16, 18, 1, 16, 18, 16, 19, 28, 18, 18, 2, 2, 0,\n\t0, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 2, 2, 0,\n\t0, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 2, 2, 0,\n\t0, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 2, 2, 0,\n\t0, 2, 2, 2, 2, 2, 2, 2, 31, 32, 33, 34, 2, 2, 2, 2, 2, 2, 2, 0,\n\t0, 2, 2, 2, 2, 2, 2, 2, 35, 36, 37, 38, 2, 2, 2, 2, 2, 2, 2, 0,\n    0, 2, 2, 2, 2, 2, 2, 2, 39, 40, 41, 42, 2, 2, 2, 2, 2, 2, 2, 0,\n\t0, 2, 2, 2, 2, 2, 2, 2, 16, 36, 16, 18, 2, 2, 2, 2, 2, 2, 2, 0,\n\t0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0,\n\t0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0,\n\t0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0,\n\t0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0,\n\t0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0,\n\t0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0,\n\t4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,\n\t4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4\n];\n// 每个地砖多少pixel\nlet tileWidth = 40;\nlet tileHeight = 40;\n// 地图大小就是20*20\nlet mapWidth = 20;\nlet mapHeight = 20;\n// framerate\nlet currentSecond = 0;\nlet frameCount = 0;\nlet framesLastSecond = 0;\nlet lastFrameTime = 0;\n\n\n// keyCode : boolean to tell us which one are pressed\nlet heldKeys = {\n    // 37: left\n    37 : false,\n    // 38: up\n    38 : false,\n    // 39: right\n    39 : false,\n    // 40: down\n    40 : false\n    // 32: space\n};\n\nlet directions = {\n\tup\t: 0,\n\tright: 1,\n\tdown: 2,\n\tleft: 3\n};\n\n\n// 地板种类\nlet floorTypes = {\n    solid: 0,\n    path: 1,\n    ocean: 2\n};\n\n// 数字（gameMap）对应上颜色和地板种类\n// 0:墙壁 1:草地 2:陆地  4: 水  \n// 5:黄色内部墙壁 6: 黄色内部墙壁左角 7:黄色内部墙壁右角\n// 20:黄色内部地板 21:黄色内部墙左 22:黄色内部墙右\n// 25:棕色内部墙壁 26:棕色内部墙壁左角 27: 棕色内部墙壁右角\n// 28: 棕色内部地板 29: 棕色内部墙左 30:棕色内部墙右\n// 10-19 房子外观\n// 31-42 miumiu room\nlet tileTypes = {\n\t0 : { color: \"#793d4c\", floor: floorTypes.solid, sprite:[{x:0,y:0,w:40,h:40}] },\n\t1 : { color: \"#6df7b1\", floor: floorTypes.path, sprite:[{x:40,y:0,w:40,h:40}] },\n\t2 : { color: \"#c97461\", floor: floorTypes.path, sprite:[{x:80,y:0,w:40,h:40}]\t},\n    4 : { color: \"#008df0\", floor: floorTypes.ocean, sprite:[{x:160,y:0,w:40,h:40}] },\n    5 : { color: \"#d77c4b\", floor: floorTypes.solid, sprite:[{x:120,y:0,w:40,h:40}] },\n    6 : { color: \"#d77c4b\", floor: floorTypes.solid, sprite:[{x:120,y:40,w:40,h:40}] },\n    7 : { color: \"#d77c4b\", floor: floorTypes.solid, sprite:[{x:80,y:40,w:40,h:40}] },\n    \n    10 : { color:\"#ccaa00\", floor:floorTypes.solid, sprite:[{x:240,y:40,w:40,h:40}]},\n    11 : { color:\"#ccaa00\", floor:floorTypes.solid, sprite:[{x:280,y:40,w:40,h:40}]},\n    12 : { color:\"#ccaa00\", floor:floorTypes.solid, sprite:[{x:320,y:40,w:40,h:40}]},\n    13 : { color:\"#ccaa00\", floor:floorTypes.solid, sprite:[{x:240,y:80,w:40,h:40}]},\n    14 : { color:\"#ccaa00\", floor:floorTypes.solid, sprite:[{x:280,y:80,w:40,h:40}]},\n    15 : { color:\"#ccaa00\", floor:floorTypes.solid, sprite:[{x:320,y:80,w:40,h:40}]},\n    16 : { color:\"#ccaa00\", floor:floorTypes.solid, sprite:[{x:240,y:120,w:40,h:40}]},\n    17 : { color:\"#ccaa00\", floor:floorTypes.solid, sprite:[{x:280,y:120,w:40,h:40}]},\n    18 : { color:\"#ccaa00\", floor:floorTypes.solid, sprite:[{x:320,y:120,w:40,h:40}]},\n    19 : { color:\"#ccaa00\", floor:floorTypes.solid, sprite:[{x:360,y:120,w:40,h:40}]},\n    \n    20 : { color: \"#d77c4b\", floor: floorTypes.path, sprite:[{x:40,y:40,w:40,h:40}]},\n    21 : { color: \"#d77c4b\", floor: floorTypes.solid, sprite:[{x:80,y:80,w:40,h:40}]},\n    22 : { color: \"#d77c4b\", floor: floorTypes.solid, sprite:[{x:120,y:80,w:40,h:40}]},\n\n    25 : { color: \"#d77c4b\", floor: floorTypes.solid, sprite:[{x:320,y:160,w:40,h:40}]},\n    26 : { color: \"#d77c4b\", floor: floorTypes.solid, sprite:[{x:240,y:160,w:40,h:40}]},\n    27 : { color: \"#d77c4b\", floor: floorTypes.solid, sprite:[{x:280,y:160,w:40,h:40}]},\n    28 : { color: \"#d77c4b\", floor: floorTypes.path, sprite:[{x:280,y:200,w:40,h:40}]},\n    29 : { color: \"#d77c4b\", floor: floorTypes.solid, sprite:[{x:360,y:160,w:40,h:40}]},\n    30 : { color: \"#d77c4b\", floor: floorTypes.solid, sprite:[{x:240,y:200,w:40,h:40}]},\n\n    31 : { color: \"#d77c4b\", floor: floorTypes.solid, sprite:[{x:320,y:200,w:40,h:40}]},\n    32 : { color: \"#d77c4b\", floor: floorTypes.solid, sprite:[{x:360,y:200,w:40,h:40}]},\n    33 : { color: \"#d77c4b\", floor: floorTypes.solid, sprite:[{x:400,y:200,w:40,h:40}]},\n    34 : { color: \"#d77c4b\", floor: floorTypes.solid, sprite:[{x:440,y:200,w:40,h:40}]},\n    35 : { color: \"#d77c4b\", floor: floorTypes.solid, sprite:[{x:320,y:240,w:40,h:40}]},\n    36 : { color: \"#d77c4b\", floor: floorTypes.path, sprite:[{x:360,y:240,w:40,h:40}]},\n    37 : { color: \"#d77c4b\", floor: floorTypes.solid, sprite:[{x:400,y:240,w:40,h:40}]},\n    38 : { color: \"#d77c4b\", floor: floorTypes.solid, sprite:[{x:440,y:240,w:40,h:40}]},\n    39 : { color: \"#d77c4b\", floor: floorTypes.solid, sprite:[{x:320,y:280,w:40,h:40}]},\n    40 : { color: \"#d77c4b\", floor: floorTypes.path, sprite:[{x:360,y:280,w:40,h:40}]},\n    41 : { color: \"#d77c4b\", floor: floorTypes.path, sprite:[{x:400,y:280,w:40,h:40}]},\n    42 : { color: \"#d77c4b\", floor: floorTypes.solid, sprite:[{x:440,y:280,w:40,h:40}]},\n\n\n    \n};\n\nlet collisions = {\n\tnone\t\t: 0,\n\tsolid\t\t: 1\n};\n\nlet objectTypes = {\n\t1 : {\n\t\tname : \"Flower\",\n\t\tsprite : [{x:40,y:180,w:40,h:20}],\n\t\toffset : [0,0],\n\t\tcollision : collisions.none,\n\t\tzIndex : 1\n\t},\n\t2 : {\n\t\tname : \"fence\",\n\t\tsprite : [{x:40,y:200,w:40,h:40}],\n\t\toffset : [0,0],\n\t\tcollision : collisions.solid,\n\t\tzIndex : 1\n\t},\n\t3 : {\n\t\tname : \"Tree\",\n\t\tsprite : [{x:80,y:160,w:80,h:80}],\n\t\toffset : [-20,-20],\n\t\tcollision : collisions.solid,\n\t\tzIndex : 3\n    },\n    4 : {\n\t\tname : \"mashrooms\",\n\t\tsprite : [{x:40,y:160,w:40,h:20}],\n\t\toffset : [0,0],\n\t\tcollision : collisions.none,\n\t\tzIndex : 1\n    },\n    5 : {\n\t\tname : \"Pig Shop\",\n\t\tsprite : [{x:160,y:160,w:80,h:80}],\n\t\toffset : [-20,-20],\n\t\tcollision : collisions.solid,\n\t\tzIndex : 3\n    },\n    6 : {\n\t\tname : \"donuts\",\n\t\tsprite : [{x:360,y:0,w:80,h:115}],\n\t\toffset : [0,0],\n\t\tcollision : collisions.none,\n\t\tzIndex : 1\n    },\n    7 : {\n\t\tname : \"cooking\",\n\t\tsprite : [{x:160,y:80,w:80,h:80}],\n\t\toffset : [0,0],\n\t\tcollision : collisions.none,\n\t\tzIndex : 1\n    },\n    8 : {\n\t\tname : \"carpet\",\n\t\tsprite : [{x:0,y:80,w:80,h:40}],\n\t\toffset : [0,0],\n\t\tcollision : collisions.none,\n\t\tzIndex : 1\n    },\n    9 : {\n\t\tname : \"desk\",\n\t\tsprite : [{x:0,y:40,w:40,h:40}],\n\t\toffset : [0,0],\n\t\tcollision : collisions.solid,\n\t\tzIndex : 1\n    },\n    10 : {\n\t\tname : \"chair\",\n\t\tsprite : [{x:320,y:0,w:40,h:40}],\n\t\toffset : [0,0],\n\t\tcollision : collisions.solid,\n\t\tzIndex : 1\n    },\n    11 : {\n\t\tname : \"Tree Plant\",\n\t\tsprite : [{x:40,y:120,w:40,h:40}],\n\t\toffset : [0,0],\n\t\tcollision : collisions.solid,\n\t\tzIndex : 1\n    },\n    12 : {\n\t\tname : \"drum\",\n\t\tsprite : [{x:0,y:240,w:80,h:40}],\n\t\toffset : [0,0],\n\t\tcollision : collisions.solid,\n\t\tzIndex : 1\n    },\n    13 : {\n\t\tname : \"instruments\",\n\t\tsprite : [{x:80,y:240,w:120,h:80}],\n\t\toffset : [0,0],\n\t\tcollision : collisions.solid,\n\t\tzIndex : 1\n    },\n    14 : {\n\t\tname : \"BookShelf\",\n\t\tsprite : [{x:200,y:240,w:40,h:40}],\n\t\toffset : [0,0],\n\t\tcollision : collisions.solid,\n\t\tzIndex : 1\n    },\n    15 : {\n\t\tname : \"saxophone\",\n\t\tsprite : [{x:240,y:240,w:40,h:40}],\n\t\toffset : [0,0],\n\t\tcollision : collisions.solid,\n\t\tzIndex : 1\n    },\n    16 : {\n\t\tname : \"Right Facing Chair\",\n\t\tsprite : [{x:200,y:280,w:40,h:40}],\n\t\toffset : [0,0],\n\t\tcollision : collisions.solid,\n\t\tzIndex : 1\n    },\n};\n\n\n// 物品\nlet itemTypes = {\n    1 : {\n\t\tname : \"coconut\",\n\t\tmaxStack : 5,\n\t\tsprite : [{x:240,y:0,w:40,h:40}],\n\t\toffset : [0,0]\n    },\n    2 : {\n\t\tname : \"strawberry\",\n\t\tmaxStack : 5,\n\t\tsprite : [{x:280,y:0,w:40,h:40}],\n\t\toffset : [0,0]\n\t}\n};\n\n\n\nlet gametile = null, gametileURL = \"src/images/tilesetestt.png\", artLoaded = false;\n\n\n\n// 创建一个角色 (miumiu)\nlet miumiu = new MiuMiu();\n// 加更多角色⬇\nfunction MiuMiu() {\n    this.tileFrom\t= [1,1];\n    // miumiu的位置\n    this.tileTo\t\t= [9,11];\n    // time in millseconds\n    this.timeMoved\t= 0;\n    this.delayMove\t= 700;\n\tthis.dimensions\t= [40,40];\n    this.position\t= [45,45];\n    \n    this.direction\t= directions.up;\n\tthis.sprites = {};\n\tthis.sprites[directions.up]\t= [{x:0,y:120,w:30,h:30}];\n\tthis.sprites[directions.right] = [{x:0,y:150,w:30,h:30}];\n\tthis.sprites[directions.down] = [{x:0,y:180,w:30,h:30}];\n\tthis.sprites[directions.left] = [{x:0,y:210,w:30,h:30}];\n}\n\n\n// 把角色放在地砖上\nMiuMiu.prototype.location = function(x, y) {\n\tthis.tileFrom\t= [x,y];\n    this.tileTo\t\t= [x,y];\n    // x and y position of the tile. update the tileFrom and tileTo properties to the new tile coordinates\n    // calculates the pixel position of the characyer use below\n\tthis.position\t= [(( tileWidth * x )+( (tileWidth - this.dimensions[0]) / 2 )),\n\t\t(( tileHeight * y )+( (tileHeight - this.dimensions[1]) / 2 ))];\n};\n\n// 根据每个帧数找到角色位置\nMiuMiu.prototype.processMovement = function(t) {\n    // if char tileTo == tileFrom char is not moving, so return false\n\tif( this.tileFrom[0] == this.tileTo[0] && this.tileFrom[1] == this.tileTo[1]) { return false; }\n    // if the amount of time passed since char began its current move >= the time for char to move 1 tile. we set position using location function\n    // aka: if char still moving\n\tif((t - this.timeMoved) >= this.delayMove) {\n        this.location(this.tileTo[0], this.tileTo[1]);\n        if(mapTileData.map[toIndex(this.tileTo[0], this.tileTo[1])].eventEnter != null) {\n\t\t\tmapTileData.map[toIndex(this.tileTo[0], this.tileTo[1])].eventEnter(this);\n        }\n\t} else {\n        // current position on canvas\n\t\tthis.position[0] = (this.tileFrom[0] * tileWidth) + ((tileWidth - this.dimensions[0]) / 2);\n\t\tthis.position[1] = (this.tileFrom[1] * tileHeight) + ((tileHeight - this.dimensions[1]) / 2);\n\n        // if char is moving on x coordinate, calculate pixels\n\t\tif(this.tileTo[0] != this.tileFrom[0]) {\n            // difference = distance moved\n            // 加减移动的地砖到角色的位子\n\t\t\tlet difference = (tileWidth / this.delayMove) * (t - this.timeMoved);\n\t\t\tthis.position[0]+= (this.tileTo[0] < this.tileFrom[0] ? 0 - difference : difference);\n\t\t}\n\t    if(this.tileTo[1] != this.tileFrom[1]) {\n\t\t\tlet difference = (tileHeight / this.delayMove) * (t-this.timeMoved);\n\t\t\tthis.position[1]+= (this.tileTo[1]<this.tileFrom[1] ? 0 - difference : difference);\n        }\n        // round x & y to whole number 需要整数\n\t\tthis.position[0] = Math.round(this.position[0]);\n\t\tthis.position[1] = Math.round(this.position[1]);\n    }\n    // true = char is currently moving\n\treturn true;\n}\n\n\n// if char can move in a specific direc\nMiuMiu.prototype.placesCanGo = function(x, y) {\n    // if x and y is in map bound\n    if(x < 0 || x >= mapWidth || y < 0 || y >= mapHeight) { return false; }\n    // if the tile is path tile (only move if its a path)\n        if(tileTypes[gameMap[toIndex(x,y)]].floor != floorTypes.path) { return false; }\n        if(mapTileData.map[toIndex(x,y)].object != null) {\n\t\tlet object = mapTileData.map[toIndex(x,y)].object;\n\t\tif(objectTypes[object.type].collision == collisions.solid) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n};\nMiuMiu.prototype.canGoUp = function() { return this.placesCanGo(this.tileFrom[0], this.tileFrom[1] - 1); };\nMiuMiu.prototype.canGoDown = function() { return this.placesCanGo(this.tileFrom[0], this.tileFrom[1] + 1); };\nMiuMiu.prototype.canGoLeft = function() { return this.placesCanGo(this.tileFrom[0]-1, this.tileFrom[1]); };\nMiuMiu.prototype.canGoRight = function() { return this.placesCanGo(this.tileFrom[0]+1, this.tileFrom[1]); };\n\nMiuMiu.prototype.goLeft = function(t) { this.tileTo[0]-= 1; this.timeMoved = t; this.direction = directions.left; };\nMiuMiu.prototype.goRight = function(t) { this.tileTo[0]+= 1; this.timeMoved = t; this.direction = directions.right; };\nMiuMiu.prototype.goUp = function(t) { this.tileTo[1]-= 1; this.timeMoved = t; this.direction = directions.up; };\nMiuMiu.prototype.goDown = function(t) { this.tileTo[1]+= 1; this.timeMoved = t; this.direction = directions.down; };\n\n\n\n// create a camera object\nlet camera = {\n    screen: [0,0],\n    // 画面左上角\n    startingPoint: [0,0],\n    // 画面右下角\n    endingPoint: [0,0],\n    // 误差\n    offset: [0,0],\n    // update function, x y is our center area\n    update: function(offsetX, offsetY) {\n        // offset: half the canvas width || height (round down to whole num)\n\t\tthis.offset[0] = Math.floor((this.screen[0]/2) - offsetX);\n        this.offset[1] = Math.floor((this.screen[1]/2) - offsetY);\n\n        // 地砖在地图上的位置\n        let tile = [ Math.floor(offsetX / tileWidth), Math.floor(offsetY / tileHeight) ];\n        //  计算第一个地砖位置在x线上： 最大地砖数量 - 屏幕的一半\n        //  多减去1这样地砖可以show一半在屏幕上\n        this.startingPoint[0] = tile[0] - Math.ceil((this.screen[0]/2) / tileWidth)  - 1;\n\t\tthis.startingPoint[1] = tile[1] - Math.ceil((this.screen[1]/2) / tileHeight)  - 1;\n\n        // 确保x和y都大于0要么会在地图外\n        if(this.startingPoint[0] <= -1) { this.startingPoint[0] = 0; }\n\t\tif(this.startingPoint[1] <= -1) { this.startingPoint[1] = 0; }\n\n        this.endingPoint[0] = tile[0] + 1 + Math.ceil((this.screen[0]/2) / tileWidth);\n\t\tthis.endingPoint[1] = tile[1] + 1 + Math.ceil((this.screen[1]/2) / tileHeight);\n\n\t\tif(this.endingPoint[0] >= mapWidth) { this.endingPoint[0] = mapWidth -1; }\n\t\tif(this.endingPoint[1] >= mapHeight) { this.endingPoint[1] = mapHeight - 1; }\n        }\n};\n\n\n// buildings\n\nlet mapTileData = new TileMap();\n\nlet buildingsLocation = [\n\t{ x:5, y:0, w:4, h:5, data: [\n\t\t10, 11, 11, 12,\n        13, 14, 14, 15,\n        16, 18, 16, 18,\n        16, 18, 16, 18,\n        16, 17, 16, 18\n\t]},\n\t{ x:10, y:0, w:7, h:5, data: [\n\t\t10, 11, 11, 11, 11, 12, 12,\n        13, 15, 13, 14, 14, 15, 15,\n        16, 18, 16, 19, 19, 18, 18,\n        16, 18, 16, 19, 19, 18, 18,\n        16, 18, 16, 19, 17, 18, 18\n\t]},\n\t{ x:8, y:8, w:4, h:4, data: [\n        10, 11, 11, 12,\n        13, 14, 14, 15,\n        16, 18, 16, 18,\n        16, 17, 16, 18\n\t]}\n];\n\n// stores information for each map tile\nfunction Tile(tileX, tileY, tileType)\n{\n    // tileY, tileX = the position of the tile on the map\n\tthis.x\t\t\t= tileX;\n\tthis.y\t\t\t= tileY;\n\tthis.type\t\t= tileType;\n\tthis.building\t\t= null;\n    this.buildingType\t= 0;\n    //  pointer to a function to execute when a MiuMiu has completed moving on to this tile\n    this.eventEnter\t= null;\n    this.object\t\t= null;\n\n}\n\n// 储存管理地图数据\nfunction TileMap() {\n\tthis.map\t= [];\n\tthis.w\t\t= 0;\n    this.h\t\t= 0;\n\tthis.levels\t= 4;\n}\n\nTileMap.prototype.buildMapFromData = function(tileId, w, h) {\n\tthis.w\t\t= w;\n    this.h\t\t= h;\n\n    if(tileId.length!=(w * h)) { return false; }\n\t\n    this.map.length\t= 0;\n    \tfor(let y = 0; y < h; y++) {\n\t\t    for(let x = 0; x < w; x++) {\n\t\t\tthis.map.push( new Tile(x, y, tileId[ (x + (w * y))]) );\n\t\t}\n    }\n    return true;\n};\n\n\nTileMap.prototype.addBuildings = function(buildings) {\n\tfor(let i in buildings) {\n        let building = buildings[i];\n        if(building.x < 0 || building.y < 0 || building.x >= this.w || building.y >= this.h ||\t(building.x+building.w)>this.w || (building.y+building.h)>this.h || building.data.length!=(building.w*building.h)) {\n\t\t\tcontinue;\n        }\n        for(let y = 0; y < building.h; y++) {\n\t\t\tfor(let x = 0; x < building.w; x++) {\n                let tileIdx = (((building.y + y) * this.w) + building.x + x);\n                this.map[tileIdx].building = building;\n\t\t\t\tthis.map[tileIdx].buildingType = building.data[( (y * building.w) + x)];\n\t\t\t}\n\t\t}\n\t}\n};\n\n// 物品摆放\nfunction GameObjects(nt) {\n\tthis.x = 0;\n\tthis.y = 0;\n\tthis.type = nt;\n}\n\nGameObjects.prototype.placeAt = function(nx, ny) {\n\tif(mapTileData.map[toIndex(this.x, this.y)].object == this) {\n\t\tmapTileData.map[toIndex(this.x, this.y)].object = null;\n    }\n    this.x = nx;\n\tthis.y = ny;\n\t\n\tmapTileData.map[toIndex(nx, ny)].object = this;\n};\n\n\n\n// convert x, y into index in gameMap arr\nfunction toIndex(x, y) {\n\treturn(x + (mapWidth * y));\n}\n\nfunction getFrame(sprite, timeLast, time, animation) {\n\tif(!animation) { return sprite[0]; }\n\ttime = time % timeLast;\n\n\tfor(x in sprite) {\n\t\tif(sprite[x].end>=time) { return sprite[x]; }\n\t}\n}\n\n// 界面load完，开始loop\nwindow.onload = function() {\n\tctx = document.getElementById(\"miumiuTale\").getContext(\"2d\");\n\trequestAnimationFrame(drawGame);\n    \n    // add eventListeners for the keydowna and keyup\n\twindow.addEventListener(\"keydown\", function(e) {\n\t\tif(e.keyCode >= 37 && e.keyCode <=40 ) { heldKeys[e.keyCode] = true; }\n\t});\n\twindow.addEventListener(\"keyup\", function(e) {\n\t\tif(e.keyCode >= 37 && e.keyCode <= 40) { heldKeys[e.keyCode] = false; }\n    });\n\n    // canvas尺寸 保存到 相机\n    camera.screen = [document.getElementById(\"miumiuTale\").width,\n        document.getElementById(\"miumiuTale\").height];\n        \n    gametile = new Image();\n\tgametile.onerror = function() {\n\t\tctx = null;\n\t\talert(\"Failed loading gametile.\");\n\t};\n\tgametile.onload = function() { artLoaded = true; };\n    gametile.src = gametileURL;\n    \n    mapTileData.buildMapFromData(gameMap, mapWidth, mapHeight);\n\tmapTileData.addBuildings(buildingsLocation);\n\tmapTileData.map[((2 * mapWidth) + 2)].eventEnter = function() { console.log(\"Entered tile 2,2\"); };\n    \n\tlet fence1 = new GameObjects(2); fence1.placeAt(9, 1);\n    \n    let flower1 = new GameObjects(1); flower1.placeAt(5, 5);\n    let flower2 = new GameObjects(1); flower2.placeAt(7, 5);\n    let flower3 = new GameObjects(1); flower3.placeAt(8, 5);\n    \n\tlet tree1 = new GameObjects(3); tree1.placeAt(4, 6);\n\tlet tree2 = new GameObjects(3); tree2.placeAt(9, 6);\n\tlet tree3 = new GameObjects(3); tree3.placeAt(7, 6);\t\n    let tree4 = new GameObjects(3); tree4.placeAt(12, 6);\n    \n    let mashroom1 = new GameObjects(4); mashroom1.placeAt(2,4);\n    let mashroom2 = new GameObjects(4); mashroom2.placeAt(9,2);\n    \n\n    let pigShop1 = new GameObjects(5); pigShop1.placeAt(3, 4);\n\n    let donuts = new GameObjects(6); donuts.placeAt(5, 0);\n\n    let cooking = new GameObjects(7); cooking.placeAt(7, 0);\n\n    let carpet = new GameObjects(8); carpet.placeAt(7,2);\n\n    let desk = new GameObjects(9); desk.placeAt(8,3);\n\n    let chair = new GameObjects(10); chair.placeAt(8,2);\n    let chair2 = new GameObjects(16); chair2.placeAt(12,2);\n\n    let treePlant = new GameObjects(11); treePlant.placeAt(5,3);\n\n    let drum = new GameObjects(12); drum.placeAt(15,1);\n\n    let instruments = new GameObjects(13); instruments.placeAt(12,0);\n\n    let bookShelf1 = new GameObjects(14); bookShelf1.placeAt(10,1);\n    let bookShelf2 = new GameObjects(14); bookShelf2.placeAt(10,2);\n\n    let saxophone = new GameObjects(15); saxophone.placeAt(13,2);\n\n};\n\n\n\n// main function\nfunction drawGame() {\n    if (ctx == null) { return; }\n    if (!artLoaded) { requestAnimationFrame(drawGame); return; }\n\n\tlet currentFrameTime = Date.now();\n    // framecount \n\tlet sec = Math.floor(Date.now() / 1000);\n\tif(sec != currentSecond){\n\t\tcurrentSecond = sec;\n\t\tframesLastSecond = frameCount;\n\t\tframeCount = 1;\n\t} else { \n        frameCount++; \n    }\n\n    // miumiu movement\n\tif(!miumiu.processMovement(currentFrameTime)) {\n\t\tif(heldKeys[38] && miumiu.canGoUp()){ \n            miumiu.goUp(currentFrameTime); \n        } else if (heldKeys[40] && miumiu.canGoDown()) { \n            miumiu.goDown(currentFrameTime); \n        } else if(heldKeys[37] && miumiu.canGoLeft()) { \n            miumiu.goLeft(currentFrameTime); \n        } else if(heldKeys[39] && miumiu.canGoRight()) { \n            miumiu.goRight(currentFrameTime); \n        }\n    }\n\n    // camera跟着miumiu走\n        camera.update(miumiu.position[0] + (miumiu.dimensions[0] / 2),\n            miumiu.position[1] + (miumiu.dimensions[1] / 2));\n\n\t    let miumiuBuilding1 = mapTileData.map[toIndex(\n\t\tmiumiu.tileFrom[0], miumiu.tileFrom[1])].building;\n\t    let miumiuBuilding2 = mapTileData.map[toIndex(\n\t\tmiumiu.tileTo[0], miumiu.tileTo[1])].building;\n\n        // 清除last frame\n        ctx.fillStyle = \"#000000\";\n        ctx.fillRect(0, 0, camera.screen[0], camera.screen[1]);\n    \n\n    for(let z = 0; z < mapTileData.levels; z++) {\n\t\tfor(let y = camera.startingPoint[1]; y <= camera.endingPoint[1]; ++y) {\n\t\t    for(let x = camera.startingPoint[0]; x <= camera.endingPoint[0]; ++x) {\n                if(z==0) {\n                let tile = tileTypes[mapTileData.map[toIndex(x,y)].type];\n\n\t\t\t    ctx.drawImage(gametile,\n\t\t\t\ttile.sprite[0].x, tile.sprite[0].y, tile.sprite[0].w, tile.sprite[0].h,\n\t\t\t\tcamera.offset[0] + (x * tileWidth), camera.offset[1] + (y * tileHeight),\n                tileWidth, tileHeight);\n                }\n            let object = mapTileData.map[toIndex(x,y)].object;\n\t\t\tif(object != null && objectTypes[object.type].zIndex == z) {\n\t\t\t\tlet objectType = objectTypes[object.type];\n\t\t\t\t \n\t\t\t\tctx.drawImage(gametile,\n\t\t\t\t\tobjectType.sprite[0].x, objectType.sprite[0].y,\n\t\t\t\t\tobjectType.sprite[0].w, objectType.sprite[0].h,\n\t\t\t\t\tcamera.offset[0] + (x * tileWidth) + objectType.offset[0],\n\t\t\t\t\tcamera.offset[1] + (y * tileHeight) + objectType.offset[1],\n\t\t\t\t\tobjectType.sprite[0].w, objectType.sprite[0].h);\n\t\t\t}\n\n               if(z == 2 && mapTileData.map[toIndex(x,y)].buildingType!=0 && mapTileData.map[toIndex(x,y)].building!=miumiuBuilding1 && mapTileData.map[toIndex(x,y)].building!=miumiuBuilding2) {\n                    tile = tileTypes[mapTileData.map[toIndex(x,y)].buildingType];\n                    sprite = getFrame(tile.sprite, tile.spritetimeLast, tile.animation);\n                    ctx.drawImage(gametile, sprite.x, sprite.y, sprite.w, sprite.h, camera.offset[0] + (x * tileWidth), camera.offset[1] + (y * tileHeight), tileWidth, tileHeight);\n\t\t\t}\n\t\t}\n    }\n\n    if (z == 1) {\n\t\t\tlet sprite = miumiu.sprites[miumiu.direction];\n\t\t\tctx.drawImage(gametile,\n\t\t\t\tsprite[0].x, sprite[0].y,\n\t\t\t\tsprite[0].w, sprite[0].h,\n\t\t\t\tcamera.offset[0] + miumiu.position[0],\n\t\t\t\tcamera.offset[1] + miumiu.position[1],\n\t\t\t\tmiumiu.dimensions[0], miumiu.dimensions[1]);\n\t\t}\n\t}\n    \n    // draw the miumiu\n    let sprite = miumiu.sprites[miumiu.direction];\n\tctx.drawImage(gametile, sprite[0].x, sprite[0].y, sprite[0].w, sprite[0].h, camera.offset[0] + miumiu.position[0], camera.offset[1] + miumiu.position[1], miumiu.dimensions[0], miumiu.dimensions[1]);\n\n\tlastFrameTime = currentFrameTime;\n\trequestAnimationFrame(drawGame);\n}\n"],"sourceRoot":""}